{
  "name": "accessibility-analysis",
  "version": "1.0.0",
  "description": "WCAG 2.1 Level AA accessibility compliance analysis",
  "model": "gpt-5-mini",
  "temperature": 0.2,
  "systemPrompt": "You are a WCAG 2.1 accessibility expert. Analyze websites for compliance with WCAG Level AA standards.\n\nIMPORTANT: Return valid JSON in this EXACT format:\n{\n  \"accessibilityScore\": 75,\n  \"wcagLevel\": \"AA\",\n  \"compliance\": \"partial\",\n  \"issues\": [\n    {\n      \"category\": \"images\" | \"forms\" | \"navigation\" | \"color\" | \"structure\" | \"aria\" | \"keyboard\",\n      \"severity\": \"critical\" | \"high\" | \"medium\" | \"low\",\n      \"wcagCriterion\": \"1.1.1 Non-text Content (Level A)\",\n      \"title\": \"Issue title\",\n      \"description\": \"Detailed description\",\n      \"impact\": \"How this affects users\",\n      \"recommendation\": \"How to fix\",\n      \"priority\": \"critical\" | \"high\" | \"medium\" | \"low\"\n    }\n  ],\n  \"quickFixes\": [\"Fix 1\", \"Fix 2\"],\n  \"strengths\": [\"Strength 1\"]\n}\n\nDo NOT change field names.",
  "userPromptTemplate": "Analyze {{company_name}} ({{industry}}) for WCAG 2.1 Level {{wcagLevel}} accessibility compliance.\n\nWebsite: {{baseUrl}}\nPages analyzed: {{pageCount}}\n\nPAGES DATA:\n{{pagesSummary}}\n\nSITE-WIDE ISSUES DETECTED:\n{{siteWideIssues}}\n\n{{#if benchmark}}\nâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\nğŸ“Š INDUSTRY BENCHMARK FOR COMPARISON\nâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\n\nBenchmark: {{benchmark.company_name}} ({{benchmark.industry}})\nAccessibility Score: {{benchmark.scores.accessibility}}/100\n\n{{#if benchmark.accessibility_strengths}}\nğŸ“ BENCHMARK'S ACCESSIBILITY BEST PRACTICES:\n\n**WCAG Compliance:**\n{{#if benchmark.accessibility_strengths.wcagComplianceSummary}}\n- Level AA: {{benchmark.accessibility_strengths.wcagComplianceSummary.levelAA}}\n- Level AAA: {{benchmark.accessibility_strengths.wcagComplianceSummary.levelAAA}}\n- Key Strengths: {{#each benchmark.accessibility_strengths.wcagComplianceSummary.keyStrengths}}{{this}}{{#unless @last}}, {{/unless}}{{/each}}\n{{/if}}\n\n**Color Contrast:**\n{{#each benchmark.accessibility_strengths.contrastStrengths}}\n- {{this.element}}: {{this.foreground}} on {{this.background}} = {{this.contrastRatio}} ({{this.wcagLevel}})\n  Why it works: {{this.why_it_works}}\n{{/each}}\n\n**Semantic HTML:**\n{{#each benchmark.accessibility_strengths.semanticHTMLStrengths}}\n- {{this.category}}: {{this.technique}}\n  Specifics: {{this.specifics}}\n{{/each}}\n\n**Keyboard Navigation:**\n{{#if benchmark.accessibility_strengths.keyboardNavigation}}\n- Skip Links: {{benchmark.accessibility_strengths.keyboardNavigation.skipLinks.implementation}}\n- Tab Order: {{benchmark.accessibility_strengths.keyboardNavigation.tabOrder.logic}}\n- Focus Indicators: {{benchmark.accessibility_strengths.keyboardNavigation.focusIndicators.styling}}\n{{/if}}\n\n**ARIA Implementation:**\n{{#each benchmark.accessibility_strengths.ariaImplementation}}\n- {{this.category}}: {{this.usage}}\n  Purpose: {{this.purpose}}\n{{/each}}\n\n**Form Accessibility:**\n{{#if benchmark.accessibility_strengths.formAccessibility}}\n- Label Associations: {{benchmark.accessibility_strengths.formAccessibility.labelAssociations.percentage}}\n- Error Handling: {{benchmark.accessibility_strengths.formAccessibility.errorHandling.example}}\n- Required Fields: {{benchmark.accessibility_strengths.formAccessibility.requiredFields.method}}\n{{/if}}\n{{/if}}\n\nğŸ¯ **COMPARISON TASK:**\nCompare {{company_name}}'s accessibility to the benchmark's WCAG compliance strategies.\nProvide SPECIFIC, CONCRETE comparisons:\n\nâœ… GOOD: "Benchmark: Primary nav links have 12.5:1 contrast ratio (#1B3A57 on #FFFFFF), exceeds WCAG AAA. Target: Nav links 2.8:1 contrast (#CCCCCC on #FFFFFF), FAILS WCAG AA (needs 4.5:1) â†’ Users with low vision cannot read navigation."\n\nâœ… GOOD: "Benchmark: 'Skip to main content' link visible on keyboard focus, saves 15+ tab presses. Target: No skip link â†’ Keyboard users must tab through entire navigation every page load."\n\nâŒ BAD: "Improve color contrast" or "Add ARIA labels"\n\nâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\n{{/if}}\n\nAnalyze for:\n1. **Images**: Alt text (WCAG 1.1.1)\n2. **Forms**: Labels and instructions (WCAG 3.3.2, 1.3.1)\n3. **Keyboard Navigation**: Skip links, focus indicators (WCAG 2.1.1, 2.4.1)\n4. **Structure**: Heading hierarchy, landmarks (WCAG 1.3.1, 2.4.1)\n5. **ARIA**: Proper usage of roles, states, properties (WCAG 4.1.2)\n6. **Color Contrast**: (infer from context, WCAG 1.4.3)\n7. **Language**: Lang attribute (WCAG 3.1.1)\n\nProvide:\n- Accessibility score (0-100)\n- WCAG compliance level (\"full\", \"partial\", \"minimal\")\n- Issues by category with WCAG criteria references\n- Quick fixes (high-impact, low-effort improvements)\n- Strengths (what they're doing right)\n\nFocus on practical, actionable recommendations.",
  "variables": [
    "company_name",
    "industry",
    "baseUrl",
    "pageCount",
    "pagesSummary",
    "siteWideIssues",
    "wcagLevel"
  ],
  "outputFormat": {
    "type": "json",
    "schema": {
      "accessibilityScore": "number (0-100)",
      "wcagLevel": "string (AA, AAA)",
      "compliance": "string (full, partial, minimal)",
      "issues": "array of objects",
      "quickFixes": "array of strings",
      "strengths": "array of strings"
    }
  },
  "costEstimate": {
    "model": "gpt-5-mini",
    "estimatedCost": "$0.006 per analysis",
    "notes": "98% cheaper than Grok-4, suitable for accessibility checks"
  }
}
