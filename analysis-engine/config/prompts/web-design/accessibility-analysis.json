{
  "name": "accessibility-analysis",
  "version": "1.0.0",
  "description": "WCAG 2.1 Level AA accessibility compliance analysis",
  "model": "gpt-5-mini",
  "temperature": 0.2,
  "systemPrompt": "You are a WCAG 2.1 accessibility expert. Analyze websites for compliance with WCAG Level AA standards.\n\nIMPORTANT: Return valid JSON in this EXACT format:\n{\n  \"accessibilityScore\": 75,\n  \"wcagLevel\": \"AA\",\n  \"compliance\": \"partial\",\n  \"issues\": [\n    {\n      \"category\": \"images\" | \"forms\" | \"navigation\" | \"color\" | \"structure\" | \"aria\" | \"keyboard\",\n      \"severity\": \"critical\" | \"high\" | \"medium\" | \"low\",\n      \"wcagCriterion\": \"1.1.1 Non-text Content (Level A)\",\n      \"title\": \"Issue title\",\n      \"description\": \"Detailed description\",\n      \"impact\": \"How this affects users\",\n      \"recommendation\": \"How to fix\",\n      \"priority\": \"critical\" | \"high\" | \"medium\" | \"low\",\n      \"source\": \"accessibility-analyzer\",\n      \"source_type\": \"accessibility\"\n    }\n  ],\n  \"quickFixes\": [\"Fix 1\", \"Fix 2\"],\n  \"strengths\": [\"Strength 1\"]\n}\n\nDo NOT change field names.",
  "userPromptTemplate": "Analyze {{company_name}} ({{industry}}) for WCAG 2.1 Level {{wcagLevel}} accessibility compliance.\n\nWebsite: {{baseUrl}}\nPages analyzed: {{pageCount}}\n\nPAGES DATA:\n{{pagesSummary}}\n\nSITE-WIDE ISSUES DETECTED:\n{{siteWideIssues}}\n\n{{#if benchmark}}\nâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\nğŸ“Š INDUSTRY BENCHMARK FOR COMPARISON\nâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\n\nYou are comparing {{company_name}} to a top-performing {{benchmark.industry}} website:\n\n**Benchmark:** {{benchmark.company_name}}\n**Website:** {{benchmark.website_url}}\n**Tier:** {{benchmark.tier}} ({{benchmark.comparison_tier}} comparison)\n**Accessibility Score:** {{benchmark.scores.accessibility}}/100\n**Overall Grade:** {{benchmark.scores.grade}} ({{benchmark.scores.overall}}/100)\n\n**Match Reasoning:** {{benchmark.match_reasoning}}\n\n**Key Similarities:** {{#each benchmark.key_similarities}}{{this}}{{#unless @last}}, {{/unless}}{{/each}}\n\n**Key Differences:** {{#each benchmark.key_differences}}{{this}}{{#unless @last}}, {{/unless}}{{/each}}\n\n{{#if benchmark.accessibility_strengths}}\nâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\nâ™¿ BENCHMARK'S DOCUMENTED ACCESSIBILITY STRENGTHS\nâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\n\nUse these SPECIFIC patterns from the benchmark for concrete comparisons:\n\n**Accessibility Score:** {{benchmark.accessibility_strengths.accessibilityScore}}/100\n**WCAG Compliance Level:** {{benchmark.accessibility_strengths.wcagComplianceLevel}}\n\n**Contrast Strengths:**\n{{#each benchmark.accessibility_strengths.contrastStrengths}}\n- Element: {{this.element}}\n  Foreground: {{this.foreground}}\n  Background: {{this.background}}\n  Contrast Ratio: {{this.contrastRatio}}\n  WCAG Level: {{this.wcagLevel}}\n{{/each}}\n\n**ARIA Implementation:**\n{{#if benchmark.accessibility_strengths.ariaImplementation}}\n- Landmark Roles: {{benchmark.accessibility_strengths.ariaImplementation.landmarkRoles}}\n- Form Labels: {{benchmark.accessibility_strengths.ariaImplementation.formLabels}}\n- Button States: {{benchmark.accessibility_strengths.ariaImplementation.buttonStates}}\n- Live Regions: {{benchmark.accessibility_strengths.ariaImplementation.liveRegions}}\n{{/if}}\n\n**Keyboard Navigation:**\n{{#if benchmark.accessibility_strengths.keyboardNavigation}}\n- Skip Links: {{benchmark.accessibility_strengths.keyboardNavigation.skipLinks}}\n- Focus Indicators: {{benchmark.accessibility_strengths.keyboardNavigation.focusIndicators}}\n- Tab Order: {{benchmark.accessibility_strengths.keyboardNavigation.tabOrder}}\n- Modal Trapping: {{benchmark.accessibility_strengths.keyboardNavigation.modalTrapping}}\n{{/if}}\n\n**Semantic HTML Strengths:**\n{{#each benchmark.accessibility_strengths.semanticHTMLStrengths}}\n- {{this}}\n{{/each}}\n\n**Form Accessibility:**\n{{#if benchmark.accessibility_strengths.formAccessibility}}\n- Label Association: {{benchmark.accessibility_strengths.formAccessibility.labelAssociation}}\n- Error Messages: {{benchmark.accessibility_strengths.formAccessibility.errorMessages}}\n- Required Fields: {{benchmark.accessibility_strengths.formAccessibility.requiredFields}}\n{{/if}}\n\n**Screen Reader Optimization:**\n{{#if benchmark.accessibility_strengths.screenReaderOptimization}}\n- Alt Text Quality: {{benchmark.accessibility_strengths.screenReaderOptimization.altTextQuality}}\n- Hidden Content: {{benchmark.accessibility_strengths.screenReaderOptimization.hiddenContent}}\n- Descriptive Links: {{benchmark.accessibility_strengths.screenReaderOptimization.descriptiveLinks}}\n{{/if}}\n\nâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\n{{/if}}\n\nğŸ¯ **YOUR TASK:**\nCompare {{company_name}}'s accessibility implementation to {{benchmark.company_name}}'s industry-leading WCAG compliance.\nProvide SPECIFIC, CONCRETE comparisons:\n- \"Benchmark contrast: [element] [ratio] (WCAG AAA), target: [ratio] (fails WCAG AA)\"\n- \"Benchmark ARIA: [specific implementation], target: [missing/incorrect ARIA]\"\n- \"Benchmark keyboard nav: [specific features], target: [missing these]\"\n- \"Benchmark forms: [label strategy], target: [missing labels/poor association]\"\n\nâŒ DO NOT say generic things like \"improve accessibility\" or \"add ARIA\"\nâœ… DO say \"Benchmark has 7:1 contrast ratio on nav links (WCAG AAA) with 2px focus indicator on tab, target has 3.2:1 contrast (fails AA) with no visible focus state - excluding keyboard users\"\n\nâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\n{{/if}}\n\nAnalyze for:\n1. **Images**: Alt text (WCAG 1.1.1)\n2. **Forms**: Labels and instructions (WCAG 3.3.2, 1.3.1)\n3. **Keyboard Navigation**: Skip links, focus indicators (WCAG 2.1.1, 2.4.1)\n4. **Structure**: Heading hierarchy, landmarks (WCAG 1.3.1, 2.4.1)\n5. **ARIA**: Proper usage of roles, states, properties (WCAG 4.1.2)\n6. **Color Contrast**: (infer from context, WCAG 1.4.3)\n7. **Language**: Lang attribute (WCAG 3.1.1)\n\nProvide:\n- Accessibility score (0-100)\n- WCAG compliance level (\"full\", \"partial\", \"minimal\")\n- Issues by category with WCAG criteria references\n- Quick fixes (high-impact, low-effort improvements)\n- Strengths (what they're doing right)\n\nFocus on practical, actionable recommendations.",
  "variables": [
    "company_name",
    "industry",
    "baseUrl",
    "pageCount",
    "pagesSummary",
    "siteWideIssues",
    "wcagLevel"
  ],
  "outputFormat": {
    "type": "json",
    "schema": {
      "accessibilityScore": "number (0-100)",
      "wcagLevel": "string (AA, AAA)",
      "compliance": "string (full, partial, minimal)",
      "issues": "array of objects",
      "quickFixes": "array of strings",
      "strengths": "array of strings"
    }
  },
  "costEstimate": {
    "model": "gpt-5-mini",
    "estimatedCost": "$0.006 per analysis",
    "notes": "98% cheaper than Grok-4, suitable for accessibility checks"
  }
}