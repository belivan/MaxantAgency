# Analysis Page Architecture & Project Investigation

## Summary

Project selection IS implemented but with a CRITICAL security gap.

## Current Structure

## Project Integration

WORKING:
BROKEN:
## Security Gap

File: analysis-engine/server.js lines 166-186

When prospect_ids are passed directly, the code queries:
  supabase.from('prospects').select(...).in('id', prospect_ids)

NO .eq('project_id', project_id) check exists!

Attack: User sends prospect IDs from Project B under Project A context
Result: Prospects from wrong project get analyzed

