{
  "table": "projects",
  "description": "Client projects that organize campaigns and leads",
  "columns": [
    {
      "name": "id",
      "type": "uuid",
      "primaryKey": true,
      "default": "gen_random_uuid()",
      "description": "Unique identifier for the project"
    },
    {
      "name": "name",
      "type": "text",
      "required": true,
      "description": "Project name"
    },
    {
      "name": "client_name",
      "type": "text",
      "description": "Client or company name"
    },
    {
      "name": "description",
      "type": "text",
      "description": "Project description and goals"
    },
    {
      "name": "status",
      "type": "text",
      "enum": [
        "active",
        "paused",
        "completed",
        "archived"
      ],
      "default": "active",
      "description": "Current project status"
    },
    {
      "name": "budget",
      "type": "numeric(10,2)",
      "description": "Project budget in USD"
    },
    {
      "name": "total_spent",
      "type": "numeric(10,2)",
      "default": "0",
      "description": "Total amount spent on this project"
    },
    {
      "name": "start_date",
      "type": "date",
      "description": "Project start date"
    },
    {
      "name": "end_date",
      "type": "date",
      "description": "Project end date"
    },
    {
      "name": "created_at",
      "type": "timestamptz",
      "default": "now()",
      "description": "When this project was created"
    },
    {
      "name": "updated_at",
      "type": "timestamptz",
      "default": "now()",
      "description": "When this project was last updated"
    }
  ],
  "indexes": [
    {
      "name": "idx_projects_status",
      "columns": [
        "status"
      ]
    },
    {
      "name": "idx_projects_client_name",
      "columns": [
        "client_name"
      ]
    },
    {
      "name": "idx_projects_created_at",
      "columns": [
        "created_at"
      ]
    }
  ],
  "constraints": [
    {
      "type": "check",
      "name": "chk_projects_budget_positive",
      "expression": "budget IS NULL OR budget >= 0"
    },
    {
      "type": "check",
      "name": "chk_projects_spent_positive",
      "expression": "total_spent >= 0"
    },
    {
      "type": "check",
      "name": "chk_projects_date_order",
      "expression": "end_date IS NULL OR start_date IS NULL OR end_date >= start_date"
    }
  ]
}